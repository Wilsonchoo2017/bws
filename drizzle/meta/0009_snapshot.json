{
  "id": "27840efd-99bf-4c26-8a2b-11cf9f939a40",
  "prevId": "12e3917c-0ffd-46da-8908-0e2ce6bad65f",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.bricklink_items": {
      "name": "bricklink_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "item_type": {
          "name": "item_type",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_image_path": {
          "name": "local_image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_downloaded_at": {
          "name": "image_downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image_download_status": {
          "name": "image_download_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "six_month_new": {
          "name": "six_month_new",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "six_month_used": {
          "name": "six_month_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_new": {
          "name": "current_new",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_used": {
          "name": "current_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "watch_status": {
          "name": "watch_status",
          "type": "watch_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "scrape_interval_days": {
          "name": "scrape_interval_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "last_scraped_at": {
          "name": "last_scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_scrape_at": {
          "name": "next_scrape_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_bricklink_watch_status": {
          "name": "idx_bricklink_watch_status",
          "columns": [
            {
              "expression": "watch_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bricklink_next_scrape_at": {
          "name": "idx_bricklink_next_scrape_at",
          "columns": [
            {
              "expression": "next_scrape_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bricklink_image_status": {
          "name": "idx_bricklink_image_status",
          "columns": [
            {
              "expression": "image_download_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bricklink_items_item_id_unique": {
          "name": "bricklink_items_item_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "item_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bricklink_price_history": {
      "name": "bricklink_price_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "six_month_new": {
          "name": "six_month_new",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "six_month_used": {
          "name": "six_month_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_new": {
          "name": "current_new",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_used": {
          "name": "current_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_bricklink_price_history_item_time": {
          "name": "idx_bricklink_price_history_item_time",
          "columns": [
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bricklink_volume_history": {
      "name": "bricklink_volume_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "condition_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "time_period": {
          "name": "time_period",
          "type": "time_period",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "total_qty": {
          "name": "total_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "times_sold": {
          "name": "times_sold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_lots": {
          "name": "total_lots",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_price": {
          "name": "min_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_price": {
          "name": "avg_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "qty_avg_price": {
          "name": "qty_avg_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_price": {
          "name": "max_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_bricklink_volume_item_condition_time": {
          "name": "idx_bricklink_volume_item_condition_time",
          "columns": [
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "condition",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "time_period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bricklink_volume_condition": {
          "name": "idx_bricklink_volume_condition",
          "columns": [
            {
              "expression": "condition",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bricklink_volume_recorded_at": {
          "name": "idx_bricklink_volume_recorded_at",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.brickranker_retirement_items": {
      "name": "brickranker_retirement_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "set_number": {
          "name": "set_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "set_name": {
          "name": "set_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "year_released": {
          "name": "year_released",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "retiring_soon": {
          "name": "retiring_soon",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "expected_retirement_date": {
          "name": "expected_retirement_date",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_image_path": {
          "name": "local_image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_downloaded_at": {
          "name": "image_downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image_download_status": {
          "name": "image_download_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "scrape_interval_days": {
          "name": "scrape_interval_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "last_scraped_at": {
          "name": "last_scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_scrape_at": {
          "name": "next_scrape_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scraped_at": {
          "name": "scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_brickranker_set_number": {
          "name": "idx_brickranker_set_number",
          "columns": [
            {
              "expression": "set_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brickranker_product_id": {
          "name": "idx_brickranker_product_id",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brickranker_theme": {
          "name": "idx_brickranker_theme",
          "columns": [
            {
              "expression": "theme",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brickranker_is_active": {
          "name": "idx_brickranker_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brickranker_next_scrape_at": {
          "name": "idx_brickranker_next_scrape_at",
          "columns": [
            {
              "expression": "next_scrape_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_brickranker_image_status": {
          "name": "idx_brickranker_image_status",
          "columns": [
            {
              "expression": "image_download_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "brickranker_retirement_items_set_number_unique": {
          "name": "brickranker_retirement_items_set_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "set_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.price_history": {
      "name": "price_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_before_discount": {
          "name": "price_before_discount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "units_sold_snapshot": {
          "name": "units_sold_snapshot",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_price_history_product_time": {
          "name": "idx_price_history_product_time",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.product_analysis": {
      "name": "product_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "strategy": {
          "name": "strategy",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "urgency": {
          "name": "urgency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "dimensional_scores": {
          "name": "dimensional_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_roi": {
          "name": "estimated_roi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "time_horizon": {
          "name": "time_horizon",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "risks": {
          "name": "risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "opportunities": {
          "name": "opportunities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "full_recommendation": {
          "name": "full_recommendation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_analysis_product_strategy": {
          "name": "idx_analysis_product_strategy",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "strategy",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_action": {
          "name": "idx_analysis_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_urgency": {
          "name": "idx_analysis_urgency",
          "columns": [
            {
              "expression": "urgency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_score": {
          "name": "idx_analysis_score",
          "columns": [
            {
              "expression": "overall_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_analysis_analyzed_at": {
          "name": "idx_analysis_analyzed_at",
          "columns": [
            {
              "expression": "analyzed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "product_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "brand": {
          "name": "brand",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_min": {
          "name": "price_min",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_max": {
          "name": "price_max",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_before_discount": {
          "name": "price_before_discount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "local_image_path": {
          "name": "local_image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_images": {
          "name": "local_images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "image_downloaded_at": {
          "name": "image_downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image_download_status": {
          "name": "image_download_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "lego_set_number": {
          "name": "lego_set_number",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "watch_status": {
          "name": "watch_status",
          "type": "watch_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "units_sold": {
          "name": "units_sold",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "lifetime_sold": {
          "name": "lifetime_sold",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "liked_count": {
          "name": "liked_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "comment_count": {
          "name": "comment_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "view_count": {
          "name": "view_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_star_rating": {
          "name": "avg_star_rating",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rating_count": {
          "name": "rating_count",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "stock_info_summary": {
          "name": "stock_info_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stock_type": {
          "name": "stock_type",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "current_stock": {
          "name": "current_stock",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "is_adult": {
          "name": "is_adult",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_mart": {
          "name": "is_mart",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_preferred": {
          "name": "is_preferred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_service_by_shopee": {
          "name": "is_service_by_shopee",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "shop_id": {
          "name": "shop_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "shop_name": {
          "name": "shop_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "shop_location": {
          "name": "shop_location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "category_number": {
          "name": "category_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "category_name": {
          "name": "category_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "age_range": {
          "name": "age_range",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen_at": {
          "name": "first_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_products_source": {
          "name": "idx_products_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_product_id": {
          "name": "idx_products_product_id",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_price": {
          "name": "idx_products_price",
          "columns": [
            {
              "expression": "price",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_sold": {
          "name": "idx_products_sold",
          "columns": [
            {
              "expression": "units_sold",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_shop_id": {
          "name": "idx_products_shop_id",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_created_at": {
          "name": "idx_products_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_lego_set": {
          "name": "idx_products_lego_set",
          "columns": [
            {
              "expression": "lego_set_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_watch_status": {
          "name": "idx_products_watch_status",
          "columns": [
            {
              "expression": "watch_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_image_status": {
          "name": "idx_products_image_status",
          "columns": [
            {
              "expression": "image_download_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_name_search": {
          "name": "idx_products_name_search",
          "columns": [
            {
              "expression": "to_tsvector('english', \"name\")",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_products_source_lego": {
          "name": "idx_products_source_lego",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lego_set_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_product_id_unique": {
          "name": "products_product_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "product_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reddit_search_results": {
      "name": "reddit_search_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "lego_set_number": {
          "name": "lego_set_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "subreddit": {
          "name": "subreddit",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'lego'"
        },
        "total_posts": {
          "name": "total_posts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "posts": {
          "name": "posts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "searched_at": {
          "name": "searched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "watch_status": {
          "name": "watch_status",
          "type": "watch_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "scrape_interval_days": {
          "name": "scrape_interval_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "last_scraped_at": {
          "name": "last_scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_scrape_at": {
          "name": "next_scrape_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reddit_lego_set_number": {
          "name": "idx_reddit_lego_set_number",
          "columns": [
            {
              "expression": "lego_set_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reddit_searched_at": {
          "name": "idx_reddit_searched_at",
          "columns": [
            {
              "expression": "searched_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reddit_watch_status": {
          "name": "idx_reddit_watch_status",
          "columns": [
            {
              "expression": "watch_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reddit_next_scrape_at": {
          "name": "idx_reddit_next_scrape_at",
          "columns": [
            {
              "expression": "next_scrape_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_lego_set_subreddit": {
          "name": "unique_lego_set_subreddit",
          "nullsNotDistinct": false,
          "columns": [
            "lego_set_number",
            "subreddit"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scrape_sessions": {
      "name": "scrape_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "product_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "products_found": {
          "name": "products_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "products_stored": {
          "name": "products_stored",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_label": {
          "name": "session_label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "filter_context": {
          "name": "filter_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shop_name": {
          "name": "shop_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "scraped_at": {
          "name": "scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scrape_sessions_scraped_at": {
          "name": "idx_scrape_sessions_scraped_at",
          "columns": [
            {
              "expression": "scraped_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scrape_sessions_source": {
          "name": "idx_scrape_sessions_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scrape_sessions_shop_name": {
          "name": "idx_scrape_sessions_shop_name",
          "columns": [
            {
              "expression": "shop_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.shopee_scrapes": {
      "name": "shopee_scrapes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "scrape_session_id": {
          "name": "scrape_session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_before_discount": {
          "name": "price_before_discount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_min": {
          "name": "price_min",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "price_max": {
          "name": "price_max",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "units_sold": {
          "name": "units_sold",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "lifetime_sold": {
          "name": "lifetime_sold",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "shop_id": {
          "name": "shop_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "shop_name": {
          "name": "shop_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "shop_location": {
          "name": "shop_location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "current_stock": {
          "name": "current_stock",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "stock_type": {
          "name": "stock_type",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "stock_info_summary": {
          "name": "stock_info_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "liked_count": {
          "name": "liked_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "comment_count": {
          "name": "comment_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "view_count": {
          "name": "view_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_star_rating": {
          "name": "avg_star_rating",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rating_count": {
          "name": "rating_count",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_adult": {
          "name": "is_adult",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_mart": {
          "name": "is_mart",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_preferred": {
          "name": "is_preferred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_service_by_shopee": {
          "name": "is_service_by_shopee",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "product_url": {
          "name": "product_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scraped_at": {
          "name": "scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_shopee_scrapes_product_id": {
          "name": "idx_shopee_scrapes_product_id",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_shopee_scrapes_session_id": {
          "name": "idx_shopee_scrapes_session_id",
          "columns": [
            {
              "expression": "scrape_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_shopee_scrapes_product_time": {
          "name": "idx_shopee_scrapes_product_time",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scraped_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_shopee_scrapes_shop_id": {
          "name": "idx_shopee_scrapes_shop_id",
          "columns": [
            {
              "expression": "shop_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_shopee_scrapes_scraped_at": {
          "name": "idx_shopee_scrapes_scraped_at",
          "columns": [
            {
              "expression": "scraped_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.worldbricks_sets": {
      "name": "worldbricks_sets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "set_number": {
          "name": "set_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "set_name": {
          "name": "set_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "year_released": {
          "name": "year_released",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "year_retired": {
          "name": "year_retired",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "designer": {
          "name": "designer",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "parts_count": {
          "name": "parts_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "dimensions": {
          "name": "dimensions",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_image_path": {
          "name": "local_image_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_downloaded_at": {
          "name": "image_downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image_download_status": {
          "name": "image_download_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_scraped_at": {
          "name": "last_scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scrape_status": {
          "name": "scrape_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_worldbricks_set_number": {
          "name": "idx_worldbricks_set_number",
          "columns": [
            {
              "expression": "set_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worldbricks_year_released": {
          "name": "idx_worldbricks_year_released",
          "columns": [
            {
              "expression": "year_released",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worldbricks_year_retired": {
          "name": "idx_worldbricks_year_retired",
          "columns": [
            {
              "expression": "year_retired",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worldbricks_image_status": {
          "name": "idx_worldbricks_image_status",
          "columns": [
            {
              "expression": "image_download_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worldbricks_scrape_status": {
          "name": "idx_worldbricks_scrape_status",
          "columns": [
            {
              "expression": "scrape_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "worldbricks_sets_set_number_unique": {
          "name": "worldbricks_sets_set_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "set_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.condition_type": {
      "name": "condition_type",
      "schema": "public",
      "values": [
        "new",
        "used"
      ]
    },
    "public.product_source": {
      "name": "product_source",
      "schema": "public",
      "values": [
        "shopee",
        "toysrus",
        "brickeconomy",
        "self"
      ]
    },
    "public.time_period": {
      "name": "time_period",
      "schema": "public",
      "values": [
        "six_month",
        "current"
      ]
    },
    "public.watch_status": {
      "name": "watch_status",
      "schema": "public",
      "values": [
        "active",
        "paused",
        "stopped",
        "archived"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
